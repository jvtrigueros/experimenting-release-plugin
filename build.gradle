buildscript {
    repositories {
        mavenCentral()
    }
}

plugins {
    id 'pl.allegro.tech.build.axion-release' version '1.3.4'
}

repositories {
    mavenCentral()
}

apply plugin: 'scala'
apply plugin: 'idea'

dependencies {
    compile "org.scala-lang:scala-library:2.11.7"
}

scmVersion {
    versionIncrementer 'incrementMinor'
    tag {
        prefix = ''
    }

    hooks {
//        D:\workspace\twitch-chat\src\main\resources\META-INF\plugin.xml
        pre 'fileUpdate', [ file: "src/main/resources/META-INF/plugin.xml"
                          , pattern: {v, p -> /(<version>)$v-SNAPSHOT/}
                          , replacement: {v, p -> "\$1$v"}
                          ]
    }
}

group 'test'
project.version = scmVersion.version